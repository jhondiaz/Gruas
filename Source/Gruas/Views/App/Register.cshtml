

<div class="widget-content nopadding">
    <div class="form-horizontal">


        <div style="width:100%;background-color:#003e65;height:25px;margin-bottom:10px;color:white;text-align:center;font-weight:bold;padding-top:5px;">
            Crear Usuario
        </div>


        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Tipo Usuario:</label>
            </div>
            <div class="span9" style="display:flex;">
                <label style="">Agente</label><input style="margin-left:5px" id="rdage" ng-click="rdage()" type="radio" name="name" value="" />
                <label style="margin-left:20px;">General</label><input style="margin-left:5px" id="rdgen" ng-click="rdgen()" type="radio" name="name" value="" />
            </div>
        </div>

        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Nombre y Apellido:</label>
            </div>
            <div class="span9">
                <input type="text" class="span12" ng-model="firstname" onlysletters capitalize placeholder="Nombre y Apellido" />
            </div>
        </div>

        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Email:</label>
            </div>
            <div class="span9">
                <input type="text" class="span12" ng-model="Email" placeholder="Email" />
            </div>
        </div>


        <!---->
        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Entidad:</label>
            </div>
            <div class="span9">
                <input type="text" class="span12" ng-model="Entidad" onlysletters capitalize placeholder="Entidad" />
            </div>
        </div>

        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Telefono:</label>
            </div>
            <div class="span9">
                <input type="text" class="span12" ng-model="Telefono" onlynumbers placeholder="Telefono" />
            </div>
        </div>


        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Tipo Documento:</label>
            </div>
            <div class="span9">
                <select class="span12" ng-model="TipoDoc">
                    <option value="CC">Cédula Ciudadania</option>
                    <option value="CE">Cédula Extranjería</option>
                </select>
            </div>

        </div>

        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Numero Documento:</label>
            </div>
            <div class="span9">
                <input type="text" class="span12" ng-model="NumDoc" onlynumbers placeholder="Numero Documento" />
            </div>
        </div>

        <div class="row-fluid" ng-show="tpuser">
            <div class="span3">
                <label class="control-label">Placa Agente:</label>
            </div>
            <div class="span9">
                <input type="text" class="span12" ng-model="PlacaAgente" capitalize placeholder="Placa Agente" />
            </div>
        </div>



        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Nombre Jefe:</label>
            </div>
            <div class="span9">
                <input type="text" class="span12" ng-model="NombreJefe" capitalize onlysletters placeholder="Nombre Jefe" />
            </div>
        </div>


        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Telefono Jefe:</label>
            </div>
            <div class="span9">
                <input type="text" class="span12" ng-model="TelefonoJefe" onlynumbers placeholder="Telefono Jefe" />
            </div>
        </div>

        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Días Expiración Contraseña:</label>
            </div>
            <div class="span9">
                <input type="text" class="span12" ng-model="exp" onlynumbers placeholder="Días Expiración Contraseña" />
            </div>
        </div>
        <!---->



        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Contraseña :</label>
            </div>
            <div class="span9">
                <input class="span12" type="password" ng-model="password1" placeholder="Password" />
            </div>
        </div>



        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Confirm Contraseña:</label>
            </div>
            <div class="span9">
                <input type="password" class="span12" ng-model="password2" placeholder="Confirm Password" />
            </div>
        </div>

        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Rol:</label>
            </div>
            <div class="span9">
                <input type="text" class="span12" ng-model="rol" id="rol" ng-disabled="true" placeholder="Seleccione un Rol" /><span class="add-on" title="Buscar" ng-disabled="isDisabled" ng-click="openmodal()"><i ng-click="openmodal()" ng-disabled="isDisabled" style="cursor:pointer" class="icon-search"></i></span>
            </div>
        </div>


        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Activo:</label>
            </div>
            <div class="span9">
                <input type="checkbox" ng-model="IsActivo" />
            </div>
        </div>

        <div class="row-fluid" style="text-align:center;">
            <button type="submit" ng-click="register()" class="btn btn-success" style="width:200px;">Guardar</button>
        </div>

    </div>



    <div style="width:100%;background-color:#003e65;height:25px;margin-bottom:10px;color:white;text-align:center;font-weight:bold;padding-top:5px;margin-top:50px;">
        Consulta Usarios
    </div>

    <div style="padding:10px;padding-left:50px;" class="row-fluid">
        <div class="span1">
            <label style="font-weight:bold;">Estado</label>
        </div>
        <div class="span2">
            <select ng-model="REstado" class="span11">
                <option value="">Seleccione</option>
                <option value="true">Activo</option>
                <option value="false">Inactivo</option>
            </select>
        </div>

        <div class="span2">
            <label style="font-weight:bold;">Tipo Documento</label>
        </div>
        <div class="span2">
            <select ng-model="RTDoc" class="span11">
                <option value="">Seleccione</option>
                <option value="CC">Cédula Ciudadania</option>
                <option value="CE">Cédula Extranjería</option>
            </select>
        </div>

        <div class="span2" style="display:flex">
            <label style="font-weight:bold;">Numero Documento</label>
        </div>
        <div class="span3">
            <input type="text" name="name" ng-model="RNDoc" value="" class="span11" onlynumbers placeholder="Numero Documento" />
        </div>

    </div>

    <div style="padding:10px;padding-left:50px;" class="row-fluid">
        <div class="span1" style="display:flex">
            <label style="font-weight:bold;">Entidad</label>
        </div>
        <div class="span2">
            <select ng-model="REntidad" class="span11">
                <option value="">Seleccione</option>
                <option value="SECRETARÍA DISTRITAL DE MOVILIDAD">SECRETARÍA DISTRITAL DE MOVILIDAD</option>
                <option value="POLICÍA DE TRÁNSITO">POLICÍA DE TRÁNSITO</option>
            </select>
        </div>

        <div class="span2" style="display:flex">
            <label style="font-weight:bold;">Placa Agente</label>
        </div>
        <div class="span2">
            <input type="text" name="name" ng-model="Rplaca" value="" class="span11" placeholder="Numero Placa" />
        </div>


        <div class="span2" style="display:flex">
            <label style="font-weight:bold;">Rol Usuario</label>
        </div>
        <div class="span3">
            <select ng-model="Rrol" class="span11">
                <option value="">Seleccione</option>
                <option ng-repeat="itm in listRoles" value="{{itm.Name}}">{{itm.Name}}</option>
            </select>
        </div>
    </div>

    <table cellpadding="0" cellspacing="0" border="0" class="table table-bordered" style="max-width:100%;margin-left:auto;margin-right:auto;margin-bottom:10px;" id="editable">
        <thead>
            <tr style="background:#31424a">
                <th class="center">NOMBRE DE USUARIO</th>
                <th class="center">NOMBRE DE PERFIL</th>
                <th class="center">T. DOCUMENTO</th>
                <th class="center">DOCUMENTO</th>
                <th class="center">ENTIDAD</th>
                <th class="center">PLACA AGENTE</th>
                <th class="center">EMAIL</th>
                <th class="center">ROL</th>
                <th class="center" style="width:80px;">ESTADO</th>
                <th class="center" style="width:120px;">CONTRASEÑA</th>
                <th class="center" style="width:80px;">MODIFICAR</th>
                <th class="center" style="width:50px;">CONTROL</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="itm in listUsers | filter:{ LockoutEnabled: REstado , TipoDocumento:RTDoc, NumeroDocumento:RNDoc, Entidad:REntidad, PlacaAgente:Rplaca, Rol:Rrol}">
                <td>{{itm.firstName}}</td>
                <td>{{itm.UserName}}</td>
                <td>{{itm.TipoDocumento}}</td>
                <td>{{itm.NumeroDocumento}}</td>
                <td>{{itm.Entidad}}</td>
                <td>{{itm.PlacaAgente}}</td>
                <td>{{itm.Email}}</td>                
                <td>{{itm.Rol}}</td>
                <td ng-if="itm.LockoutEnabled == false"><div style="background-color:#a33b3b;width:90%;color:white;text-align:center;border-radius:5px;">Inactivo</div></td>
                <td ng-if="itm.LockoutEnabled == true"><div style="background-color:#327837;width:90%;color:white;text-align:center;border-radius:5px;">Activo</div></td>
                <td style="text-align:center"><i class="fa fa-key" ng-click="modalpass(itm)" aria-hidden="true" style="color:#009fe3;cursor:pointer;" title="Cambiar Contraseña"></i></td>
                <td style="text-align:center"><i class="fa fa-pencil-square-o" ng-click="openedit(itm)" aria-hidden="true" style="color:#009fe3;cursor:pointer;" title="Modificar Usuario"></i></td>
                <td style="text-align:center"><i class="fa fa-hand-pointer-o" ng-click="searchmenu(itm)" style="color:#009fe3;cursor:pointer;" title="Asignar Permisos" aria-hidden="true"></i></td>
            </tr>
        </tbody>
    </table>
</div>

<div class="modal fade  " id="myModalSubProject" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="width: 60%;  margin-left: -30%; top:45%;display:none;">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body " style="min-height: 500px;">
                <div class="panel panel-default" id="panel-inline">
                    <div class="panel-heading">
                        <div class="panel-ctrls">
                        </div>
                    </div>
                    <div class="panel-body no-padding">
                        <table cellpadding="0" cellspacing="0" border="0" class="table table-bordered" style="max-width:100%" id="editable">
                            <thead>
                                <tr style="background:#31424a">
                                    <th class="center">Nombre</th>
                                    <th class="center">Descripción</th>
                                    <th style="width:60px;" class="center">Seleccionar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="rol in listRoles">
                                    <td>{{$index + 1}}</td>
                                    <td>{{rol.Name}}</td>
                                    <td style="text-align:center;"><i class="icon-tag" ng-click="obtenervalorsubproj(rol.Id,rol.Name)"></i></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<div class="modal fade  " id="myModaladmin" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="width: 60%;  margin-left: -30%; top:45%;display:none;">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body " style="min-height: 500px;">
                <div class="panel panel-default" id="panel-inline">
                    <div class="panel-heading">
                        <div style="display:flex;margin-bottom:10px;">
                            <label class="control-label" style="font-weight:bold;">USUARIO:</label>
                            <label class="control-label" style="margin-left:10px">{{usernameselected}}</label>
                        </div>
                        <div class="panel-ctrls">
                            <div class="control-group" style="display:flex;">
                                <label class="control-label" style="font-weight:bold;">ACTIVO:</label>
                                <div class="controls">
                                    <select class="span7" ng-model="menuselect" ng-change="searchmenufilter()" style="margin-left:10px;">
                                        <option value="-1">Seleccionar</option>
                                        <option ng-repeat="me in menus" value="{{me.Id}}">{{me.Menu}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel-body no-padding">
                        <table cellpadding="0" cellspacing="0" border="0" class="table table-bordered" style="max-width:100%" id="editable">
                            <thead>
                                <tr style="background:#31424a">
                                    <th class="center">#</th>
                                    <th class="center">Opciones</th>
                                    <th style="width:60px;" class="center">Control</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="itm in menusfilter">
                                    <td>{{$index + 1}}</td>
                                    <td>{{itm.SubMenu}}</td>
                                    <td><input type="checkbox" id="ch{{$index}}" class="chelement" name="name" value="{{itm.Id}}" /></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button style="float: right;margin-right:32px;" id="btnacc" ng-click="salir()" type="button" class="btn btn-default">Salir</button>
                <button style="float: right;margin-right:32px;" id="btnacc" ng-click="savechanges()" type="button" class="btn btn-default">Modificar Permisos</button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="modaledit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="width:70%;margin-left:-35%; top:45%;display:none;padding-bottom:15px;">

    <div style="width:100%;background-color:#003e65;height:25px;margin-bottom:10px;color:white;text-align:center;font-weight:bold;padding-top:0px;">
        MODIFICAR USUARIO
    </div>

    <div class="form-horizontal" style="width:90%;margin-right:auto;margin-left:auto;box-shadow: 1px 1px 10px 0px #cecece;padding:15px;">

        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Nombre y Apellido</label>
            </div>

            <div class="span9">
                <input type="text" class="span12" ng-model="listfilter.firstName" onlyletters capitalize placeholder="Nombre y Apellido" />
            </div>
        </div>

        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Tipo Documento:</label>
            </div>
            <div class="span9">
                <select class="span12" ng-model="listfilter.TipoDocumento">
                    <option value="CC">Cédula Ciudadania</option>
                    <option value="CE">Cédula Extranjería</option>
                </select>
            </div>
        </div>

        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Numero Documento:</label>
            </div>
            <div class="span9">
                <input type="text" class="span12" ng-model="listfilter.NumeroDocumento" onlynumbers placeholder="Numero Documento" />
            </div>
        </div>

        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Estado:</label>
            </div>
            <div class="span9">
                <select class="span12" ng-model="listfilter.LockoutEnabled">
                    <option value="1">Activo</option>
                    <option value="0">Inactivo</option>
                </select>
            </div>
        </div>


        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Telefono:</label>
            </div>

            <div class="span9">
                <input type="text" class="span12" ng-model="listfilter.PhoneNumber" onlynumbers placeholder="Telefono" />
            </div>
        </div>

        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Dias Expiración Contraseña:</label>
            </div>
            <div class="span9">
                <input type="text" class="span12" ng-model="listfilter.DiasExpiracion" placeholder="Dias de Expiración de la Contraseña" />
            </div>
        </div>

        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Email:</label>
            </div>
            <div class="span9">
                <input type="text" class="span12" ng-model="listfilter.Email" placeholder="Email" />
            </div>
        </div>

        <div class="row-fluid" ng-show="listfilter.PlacaAgente != null">
            <div class="span3">
                <label class="control-label">Placa Agente:</label>
            </div>
            <div class="span9">
                <input type="text" class="span12" ng-model="listfilter.PlacaAgente" capitalize placeholder="Placa Agente" />
            </div>
        </div>

        <div class="row-fluid">
            <div class="span3">
                <label class="control-label">Nombre Jefe:</label>
            </div>
            <div class="span9">
                <input type="text" class="span12" ng-model="listfilter.NombreJefe" onlyletters capitalize placeholder="Nombre Jefe" />
            </div>
        </div>

        <div class="row-fluid" style="margin-top:10px;border-radius:5px;">
            <button style="float:right;margin-right:25px;" ng-click="updatereg()" class="btn btn-success">Actualizar</button>
            <button style="float:right;margin-right:15px" type="button" class="btn btn-default" data-dismiss="modal">Salir</button>
        </div>
    </div>
</div>



<div class="modal fade" id="modalpass" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="width:70%;margin-left:-35%; top:45%;display:none;padding-bottom:15px;">

    <div style="width:100%;background-color:#003e65;height:25px;margin-bottom:10px;color:white;text-align:center;font-weight:bold;padding-top:0px;">
        Cambiar Contraseña
    </div>

    <div class="form-horizontal" style="width:90%;margin-right:auto;margin-left:auto;box-shadow: 1px 1px 10px 0px #cecece;padding:15px;">


        <br />

        <div class="row-fluid">
            <div class="span3">
                <label class="control-label ffl">Contraseña Anterior:</label>
            </div>
            <div class="span9">
                <input type="password" class="span12" ng-model="listfilter.OldPassword" placeholder="Confirm Password" />
            </div>
        </div>
        <br />

        <div class="row-fluid">
            <div class="span3">
                <label class="control-label ffl">Nueva Contraseña:</label>
            </div>
            <div class="span9">
                <input class="span12" type="password" ng-model="listfilter.NewPassword" placeholder="Password" />
            </div>
        </div>

        <br />


        <div class="row-fluid">
            <div class="span3">
                <label class="control-label ffl">Confirmar Contraseña:</label>
            </div>

            <div class="span9">
                <input type="password" class="span12" ng-model="listfilter.ConfirmPassword" placeholder="Confirm Password" />
            </div>
        </div>
        <br />


        <div class="row-fluid" style="margin-top:10px;border-radius:5px;">
            <button style="float:right;margin-right:26px" ng-click="ChangePass()" class="btn btn-success">Cambiar Contraseña</button>
            <button style="float:right;margin-right:15px" type="button" class="btn btn-default" data-dismiss="modal">Salir</button>
        </div>
    </div>

</div>

<style>
    .ffl {
        width: 200px;
    }

    .container-fluid {
        width: 90% !important;
    }

    .growl-container.growl-fixed.top-right {
        z-index: 999999;
    }
</style>
